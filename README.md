# 📦 自动卡密发卡系统 - 使用说明书

你好！这是为你量身定制的自动发卡系统。
这个系统包含了一个精美的网页界面和一个自动处理数据的后台。

---

## 🚀 第一步：如何启动 (How to Run)

1. **确认环境**: 确保你的电脑里已经安装了 **Python**。
   - 如果没安装，请去 python.org 下载并安装（安装时记得勾选 "Add Python to PATH"）。

2. **一键启动**:
   - 找到文件夹里的 `run.bat` 文件。
   - 双击它。
   - 第一次运行时，它会自动下载需要的软件库（这可能需要几分钟，取决于网速）。
   - 看到屏幕上显示 `Application startup complete` 并且没有红色报错，就说明成功了！

3. **打开网页**:
   - 打开你的浏览器（推荐 Chrome 或 Edge）。
   - 在地址栏输入: `http://localhost:8000`
   - 你就能看到发卡系统的漂亮的首页了！

---

## 🔧 第二步：管理员后台设置 (Admin Setup)

在开始让用户领取之前，你需要先导入数据。

1. **进入后台**:
   - 在首页右下角有个淡灰色的"管理员入口"，点击它。
   - 或者直接访问: `http://localhost:8000/admin`
   - **默认密码**: 任意输入什么都可以进入（为了方便你测试）。

2. **导入用户**:
   - 在"导入用户数据"的大框里，粘贴你的用户数据。
   - 格式非常灵活，只要顺序对就行： `UID  昵称  QQ号  纸鹤数量`
   - 例子：
     ```text
     1001  张三  123456  10
     1002  李四  666666  18
     ```
   - 点击"开始导入"。

3. **添加卡密库存**:
   - 选择你要添加的面值（比如 10鹤）。
   - 在输入框里粘贴卡密，一行一个。
   - 点击"添加卡密"。
   - **注意**: 必须要有足够的 10、5、3 面值的卡密，系统才能自动凑出用户需要的数量。比如用户有 8 个纸鹤，你需要确保库存里既有 5 鹤的卡，也有 3 鹤的卡。

---

## 🐧 Linux 部署

如果你想在服务器上部署，请查看目录下的 **`DEPLOY_LINUX.md`** 文件，里面有详细的步骤！

---

## 🐙 上传到 GitHub

如果你想把代码保存到云端，请查看 **`GITHUB_GUIDE.md`** 文件，里面有傻瓜式上传教程！

---

## ❓ 常见问题 (FAQ)

**Q: 点击启动脚本闪退怎么办？**
A: 请右键点击 `run.bat` 选择编辑，在最后一行加上 `pause`，然后保存再次运行，看看报错信息。通常是因为 Python 没有正确安装。

**Q: 为什么提示"库存不足"？**
A: 系统的算法会自动尝试凑出用户需要的数量。比如用户需要 4 个纸鹤，因为没有 4 面值的卡，也没法用 3+1 (没有1) 凑出来，所以会失败。请确保你的卡密面值组合能够覆盖用户的需求（通常 10, 5, 3 可以覆盖大部分情况，除了 1, 2, 4 等极个别数字）。

**Q: 如何修改代码？**
A: 
- 想要修改网页文字 -> 改 `static/index.html`
- 想要修改样式颜色 -> 改 `static/style.css`
- 想要修改核心逻辑 -> 改 `crud.py`

如果有任何问题，随时在这个对话框里问我！
祝你使用愉快！✨
# zhihe_test
